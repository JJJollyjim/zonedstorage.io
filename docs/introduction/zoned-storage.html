<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0DX1KGD5E4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0DX1KGD5E4",{})</script><title data-react-helmet="true">Zoned Storage Overview | Zoned Storage</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://zonedstorage.io/docs/introduction/zoned-storage"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Zoned Storage Overview | Zoned Storage"><meta data-react-helmet="true" name="description" content="Zoned storage devices are a class of storage devices with an address space that"><meta data-react-helmet="true" property="og:description" content="Zoned storage devices are a class of storage devices with an address space that"><link data-react-helmet="true" rel="icon" href="/img/zs-logo.ico"><link data-react-helmet="true" rel="canonical" href="https://zonedstorage.io/docs/introduction/zoned-storage"><link data-react-helmet="true" rel="alternate" href="https://zonedstorage.io/docs/introduction/zoned-storage" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://zonedstorage.io/docs/introduction/zoned-storage" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1a239bed.css">
<link rel="preload" href="/assets/js/runtime~main.8df543a9.js" as="script">
<link rel="preload" href="/assets/js/main.fffd029c.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/zs-logo.png" alt="Zoned Storage Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/zs-logo.png" alt="Zoned Storage Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Zoned Storage</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Documentation</a><a class="navbar__item navbar__link" href="/docs/community/support">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/westerndigitalcorporation/zonedstorage.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/introduction">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/introduction/zoned-storage">Zoned Storage Devices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/smr">Shingled Magnetic Recording</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/zns">NVMe Zoned Namespaces (ZNS) SSDs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/getting-started">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/linux">Linux Kernel Support</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/applications">Applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/tools">Tools and Libraries</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/tests">System Compliance Tests</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/distributions/linux">Linux Distributions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/benchmarking/benchmark">Benchmarking Zoned Block Devices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq">Frequently Asked Questions</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Zoned Storage Devices</h1><p>Zoned storage devices are a class of storage devices with an address space that
is divided into zones which have write constraints different from regular
storage devices.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="principle">Principle<a class="hash-link" href="#principle" title="Direct link to heading">â€‹</a></h2><p>The zones of zoned storage devices must be written sequentially. Each zone of
the device address space has a write pointer that keeps track of the position
of the next write. Data in a zone cannot be directly overwritten. The zone must
first be erased using a special command (zone reset). The figure below
illustrates this principle.</p><div class="container text--center"><figure><img src="/assets/images/intro-zoned-storage-82ce755eb4ac58c0b289d5bcb8b8c361.png" width="640" max-width="100%"><figcaption><em>Zoned Storage Devices Principle</em></figcaption></figure></div><p>Zoned storage devices can be implemented using various recording and media
technologies. The most common form of zoned storage today uses the SCSI Zoned
Block Commands (ZBC) and Zoned ATA Commands (ZAC) interfaces on
<a href="/docs/introduction/smr">Shingled Magnetic Recording (SMR)</a> HDDs. ZBC and ZAC enable a zoned
block storage model; SMR technology enables continued areal density growth to
meet the demands for expanding data needs, and requires the zoned block access
model.</p><p>Solid State Disks (SSD) storage devices can also implement a zoned interface to
reduce write amplification, reduce the device DRAM needs and improve quality of
service at scale. The <a href="/docs/introduction/zns">NVMe Zoned NameSpace (ZNS)</a> is a technical
proposal of the NVMe standard committee adding a zoned storage interface to
the NVMe interface standard.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="linux-ecosystem-support">Linux Ecosystem Support<a class="hash-link" href="#linux-ecosystem-support" title="Direct link to heading">â€‹</a></h2><p>Zoned storage devices are not plug-and-play replacement of traditional storage
devices due to the sequential write constraints of zones. Special software and
drivers are required to ensure compliance of the application operation to the
device constraints.</p><p>Support for zoned storage device was added to the Linux<!-- -->Â®<!-- --> kernel with the
release of version 4.10.0 and enables support for zoned storage at different
levels (disk driver, file system, device mapper drivers), offering a wide range
of options for supporting applications. This support is based on the
Zoned Block Device (ZBD) abstraction.</p><p>A zoned block device is a generic representation of a zoned storage device
independent of the device access protocol and interface. This abstraction is
the basis of Linux kernel support for zoned storage.</p><p>The interface associated with the ZBD device abstraction is an extension to the
traditional Linux block device interface. The ZBD interface, combined with
device drivers, provide to kernel subsystems (e.g. File systems) and to user
applications a generic zone management interface compatible across all zoned
device types and access protocols.</p><p>A simplified view of the kernel structure including the ZBD interface is shown
in the figure below.</p><div class="container text--center"><figure><img src="/assets/images/intro-linux-zbd-f4ba5756b82ac441113bd7f9c9dd1dc6.png" width="640" max-width="100%"><figcaption><em>Linux kernel Zoned Storage Device Support Overview</em></figcaption></figure></div><p>Linux ZBD interface implementation provides functions to discover the zone
configuration of a zoned device and functions to manage zones (e.g. Zone reset).
Furthermore, the Linux kernel ZBD support also modifies the kernel block I/O
stack to ensure that the device access constraints (zone spanning commands,
sequential write ordering, etc) are met.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="developing-for-zoned-storage">Developing for Zoned Storage<a class="hash-link" href="#developing-for-zoned-storage" title="Direct link to heading">â€‹</a></h2><p>There are several ways to design a system application for zoned storage
depending on one&#x27;s system structure and ability to modify the application layer
and Linux kernel being used.</p><ol><li><p>Users that own software applications and do not depend on the operating
system and file system to control the device can directly use the device
interface protocol to issue zone management commands using a passthrough
interface. In such case, the applications will need to be re-written with
the new command sets as well as ensuring that all data streams are
sequential. The <a href="/docs/tools/libzbc"><em>libzbc</em> library</a> provides functions
facilitating the implementation of applications using such approach.</p></li><li><p>Managing zoned storage directly from the application layer is a valid
approach but can be difficult to implement, particularly for use cases where
several device features must be combined (e.g. Using I/O priorities).
Application level support can be simplified by relying on the
kernel ZBD support which allows accessing and managing zoned devices using
regular POSIX system calls. While this does not remove the zoned device
access constraints from the application scope, implementation of sequential
write streams and zone management can be simplified.</p></li><li><p>If a user lacks the software control at the application level while retaining
control over Linux kernel version choices, more advanced kernel support
features such as ZBD compliant file systems can be used to hide zoned storage
access constraints from the application. Users may also rely on
a device mapper driver exposing zoned storage devices as regular block
devices. With such solution, existing file systems can be used without any
modification.</p></li></ol><p>More information on the features provided by the Linux kernel for different
versions can be found <a href="/docs/linux/overview">here</a>.</p><p>To get started with zoned storage, the
<a href="/docs/getting-started/prerequisites">Getting Started with SMR</a> section details
the first step necessary to setup and verify a system using SMR disks. The
<a href="/docs/distributions/linux">Linux Distributions</a> section provides information
regarding the availability of the ZBD interface on various Linux distributions.
Various open source tools and libraries supporting zoned storage are documented
in the <a href="/docs/tools">Tools and Libraries</a> section.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/introduction/smr"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Shingled Magnetic Recording</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#principle" class="table-of-contents__link toc-highlight">Principle</a></li><li><a href="#linux-ecosystem-support" class="table-of-contents__link toc-highlight">Linux Ecosystem Support</a></li><li><a href="#developing-for-zoned-storage" class="table-of-contents__link toc-highlight">Developing for Zoned Storage</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/zoned-storage">Introduction to Zoned Storage</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started with Zoned Storage</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://app.element.io/#/room/#zonedstorage-general:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Matrix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://join.slack.com/t/zonedstorage/shared_invite/zt-uyfut5xe-nKajp9YRnEWqiD4X6RkTFw" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://webchat.oftc.net/?channels=zonedstorage" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>IRC @ OFTC<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/westerndigitalcorporation" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub Organization<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Western Digital
	Corporation or its affiliates. All rights reserved.<br> By using this site, you agree to the <a href="https://www.westerndigital.com/legal/terms-of-use" target="_blank">Terms of Use</a> and <a href="https://www.westerndigital.com/legal/privacy-statement" target="_blank">Privacy Statement</a>.  All example scripts and program snippets on this site are licensed under the <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank">CCO 1.0 Universal</a> license.<br>This site is built with <a href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8df543a9.js"></script>
<script src="/assets/js/main.fffd029c.js"></script>
</body>
</html>