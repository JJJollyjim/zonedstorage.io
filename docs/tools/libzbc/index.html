<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Zoned Storage Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Zoned Storage Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0DX1KGD5E4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0DX1KGD5E4",{})</script><title data-react-helmet="true">libzbc User Library | Zoned Storage</title><meta data-react-helmet="true" property="og:url" content="https://zonedstorage.io/docs/tools/libzbc"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="libzbc User Library | Zoned Storage"><meta data-react-helmet="true" name="description" content="libzbc is a user library providing functions for manipulating ZBC and ZAC"><meta data-react-helmet="true" property="og:description" content="libzbc is a user library providing functions for manipulating ZBC and ZAC"><link data-react-helmet="true" rel="shortcut icon" href="/img/zs-logo.ico"><link data-react-helmet="true" rel="canonical" href="https://zonedstorage.io/docs/tools/libzbc"><link data-react-helmet="true" rel="alternate" href="https://zonedstorage.io/docs/tools/libzbc" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://zonedstorage.io/docs/tools/libzbc" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.30532e53.css">
<link rel="preload" href="/assets/js/runtime~main.18692684.js" as="script">
<link rel="preload" href="/assets/js/main.e827f9a4.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/zs-logo.png" alt="Zoned Storage Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/zs-logo.png" alt="Zoned Storage Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Zoned Storage</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/introduction">Documentation</a><a class="navbar__item navbar__link" href="/docs/community/support">Community</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/westerndigitalcorporation/zonedstorage.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/zs-logo.png" alt="Zoned Storage Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/zs-logo.png" alt="Zoned Storage Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Zoned Storage</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/introduction">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/community/support">Community</a></li><li class="menu__list-item"><a href="https://github.com/westerndigitalcorporation/zonedstorage.io" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction/zoned-storage">Zoned Storage Devices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction/smr">Shingled Magnetic Recording</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction/zns">NVMe Zoned Namespaces (ZNS) SSDs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/prerequisites">System Prerequisites</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/nullblk">Zoned Block Device Emulation with nullblk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/smr-disk">Getting Started with SMR Hard-Disks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/smr-emulation">Getting Started with Emulated SMR Hard-Disks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/getting-started/zns-emulation">Getting Started with Emulated NVMe ZNS Devices</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Linux Kernel Support</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/linux">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/linux/overview">Linux Kernel Zoned Storage Support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/linux/config">Kernel Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/linux/zbd-api">Zoned Block Device User Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/linux/sched">Write Ordering Control</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/linux/part">Zoned Block Device Partition Support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/linux/dm">Device Mapper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/linux/fs">File Systems</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Applications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/applications">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/applications/percona-server">Percona Server for MySQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/applications/zenfs">RocksDB with ZenFS</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tools and Libraries</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/util-linux">Linux System Utilities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/zns">ZNS Tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/sg3utils">SCSI Generic Utilities</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/tools/libzbc">libzbc User Library</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/libzbd">libzbd User Library</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/libnvme">libnvme User Library</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/tcmu-runner">tcmu-runner ZBC Disk Emulation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tools/qemu">QEMU and KVM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">System Compliance Tests</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tests">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tests/zbc-tests">ZBC/ZAC Compliance Tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tests/blktests">Kernel Block Layer Tests</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/distributions/linux">Linux Distributions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/benchmarking/benchmark">Benchmarking Zoned Block Devices</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/faq/faq">Frequently Asked Questions</a></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">libzbc User Library</h1></header><div class="markdown"><p><em>libzbc</em> is a user library providing functions for manipulating ZBC and ZAC
disks. <em>libzbc</em> command  implementation is compliant with the latest published
versions of the ZBC and ZAC standards defined by INCITS technical committees
T10 and T13 (respectively).</p><p>In addition to supporting ZBC and ZAC disks, <em>libzbc</em> also implements an
emulation mode allowing the library to imitate the behavior of a host managed
zoned disk using a regular file or a standard block device as the backing store.</p><p>The <em>libzbc</em> project is hosted on <a href="https://github.com/westerndigitalcorporation/libzbc" target="_blank" rel="noopener noreferrer">GitHub</a>.
The project <a href="https://github.com/westerndigitalcorporation/libzbc/blob/master/README.md" target="_blank" rel="noopener noreferrer">
<em>README</em> file</a> provides information on how to compile and install <em>libzbc</em>
library and its tools.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The <em>libzbc</em> project was formerly hosted on GitHub as part of
the <a href="https://github.com/hgst" target="_blank" rel="noopener noreferrer">HGST organization</a>.
<em>libzbc</em> repository has since then moved to
the <a href="https://github.com/westerndigitalcorporation/" target="_blank" rel="noopener noreferrer">Western Digital Corporation organization on GitHub</a>.</p></div></div><p><em>libzbc</em> also provides a test suite allowing to test the conformance of disks
and HBAs to the ZBC and ZAC standards. In order to make the test suite available,
<em>libzbc</em> needs to be configured using <em>--with-test</em> option prior to building and
installing the library. The usage of this test suite is described in more
details <a href="/docs/tests/zbc-tests">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p><em>libzbc</em> provides a unified application programming interface (API) that is
independent of the zone model and interface of the disk being used. Internally,
four different types of device drivers are used to handle device interface
dependent commands.</p><ul><li><strong>ZAC ATA Driver</strong> This driver is used to handle direct delivery of ATA
commands to ZAC disks through the SCSI generic driver (direct device
access interface).</li><li><strong>ZBC SCSI Driver</strong> This driver primarily handles SCSI commands directed at
ZBC SCSI disks, but can also be used to control ZAC ATA disks if a functional
SCSI to ATA (SAT) command translation layer is functional in the command path.
SAT may be provided either by the kernel <em>libata</em> subsystem for ATA disks
connected to SATA adapters or by a SAS host bus adapter (HBA) for SATA disks
connected to such adapter.</li><li><strong>Zoned Block Device Driver</strong> This driver uses the kernel ZBD interface to
control both ZBC and ZAC disks. This driver is only available if the kernel
zoned block device support is present and enabled.</li><li><strong>File Emulation Driver</strong> This driver implements emulation of a host managed
ZBC disk using a regular file or regular block device as backend storage. This
driver is intended for development only. A more advanced ZBC disk emulation
solution is provided by the <a href="/docs/tools/tcmu-runner"><em>tcmu-runner</em></a> project.</li></ul><p>The figure below shows this structure.</p><div class="container text--center"><figure><img src="/assets/images/tools-libzbc-9dc574a0bfec08d195e6e4179d6cd272.png" width="640" max-width="100%"><figcaption><em>libzbc internal backend drivers organization</em></figcaption></figure></div><p><em>libzbc</em> provides functions for discovering the zone configuration of a zoned
device and for accessing the device. Accesses to the device may result in
changes to the condition, attributes or state of device zones (such as write
pointer location in sequential zones). These changes are not internally tracked
by <em>libzbc</em>.  That is, <em>libzbc</em> is stateless.</p><p>The functions provided to obtain the device zone information only make a
&quot;snapshot&quot; of the zone condition and state when executed. It is the
responsibility of applications to implement tracking of the device zone changes
such as the increasing write pointer position of a sequential zone after the
completion of write requests to the zone.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="library-functions"></a>Library Functions<a class="hash-link" href="#library-functions" title="Direct link to heading">#</a></h2><p>All <em>libzbc</em> functions, since version  5.0.0, use a 512 bytes sector unit for
reporting zone information and as the sector addressing unit for device
accesses regardless of the actual device logical block size. This unification
in the unit used by all functions can simplify application development by hiding
potential differences in logical block sizes between devices. However,
application programmers must be careful to always implement accesses (read or
write) to the device aligned to the device logical block size.  Furthermore, on
host managed zoned devices, write operations to sequential zones must be aligned
to the device physical block size.</p><p>The main functions provided by <em>libzbc</em> are as follows.</p><center><table><thead><tr><th align="left">Function</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">zbc_open()</td><td align="left">Open a zoned device</td></tr><tr><td align="left">zbc_close()</td><td align="left">Close a zoned device</td></tr><tr><td align="left">zbc_get_device_info()</td><td align="left">Get device information</td></tr><tr><td align="left">zbc_report_nr_zones()</td><td align="left">Get the number of zones</td></tr><tr><td align="left">zbc_report_zones()</td><td align="left">Get zone information</td></tr><tr><td align="left">zbc_list_zones()</td><td align="left">Get zone information</td></tr><tr><td align="left">zbc_zone_operation()</td><td align="left">Execute a zone operation</td></tr><tr><td align="left">zbc_open_zone()</td><td align="left">Explicitly open a zone</td></tr><tr><td align="left">zbc_close_zone()</td><td align="left">Close an open zone</td></tr><tr><td align="left">zbc_finish_zone()</td><td align="left">Finish a zone</td></tr><tr><td align="left">zbc_reset_zone()</td><td align="left">Reset a zone write pointer</td></tr><tr><td align="left">zbc_pread()</td><td align="left">Read data from a zone</td></tr><tr><td align="left">zbc_pwrite()</td><td align="left">Write data to a zone</td></tr><tr><td align="left">zbc_flush()</td><td align="left">Flush data to disk</td></tr></tbody></table></center><p>More detailed information about these functions usage and behavior can be found
in the comments of <a href="https://github.com/westerndigitalcorporation/libzbc/blob/master/include/libzbc/zbc.h" target="_blank" rel="noopener noreferrer"><em>libzbc</em> header file</a>. This header file is by default
installed as <code>/usr/include/libzbc/zbc.h</code>.</p><p><em>libzbc</em> does not implement any mutual exclusion mechanism for multi-thread or
multi-process applications. This implies that it is the responsibility of
application to synchronize the execution of conflicting operations targeting
the same zone. A typical example of such case is concurrent write operations to
the same zone by multiple threads which may result in write errors without
write ordering control by the application.</p><p>The following functions are also provided by <em>libzbc</em> to facilitate application
development and tests.</p><center><table><thead><tr><th align="left">Function</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">zbc_set_log_level()</td><td align="left">Set log level of the library functions</td></tr><tr><td align="left">zbc_device_is_zoned()</td><td align="left">Test if a device is a zoned block device</td></tr><tr><td align="left">zbc_print_device_info()</td><td align="left">Print to a file (stream) a device information</td></tr><tr><td align="left">zbc_device_type_str()</td><td align="left">Get a string description of a device type</td></tr><tr><td align="left">zbc_device_model_str()</td><td align="left">Get a string description of a device model</td></tr><tr><td align="left">zbc_zone_type_str()</td><td align="left">Get a string description of a zone type</td></tr><tr><td align="left">zbc_zone_condition_str()</td><td align="left">Get a string description of a zone condition</td></tr><tr><td align="left">zbc_errno()</td><td align="left">Return sense key and sense code of the last command executed</td></tr><tr><td align="left">zbc_sk_str()</td><td align="left">Get a string description of a sense key</td></tr><tr><td align="left">zbc_asc_ascq_str()</td><td align="left">Get a string description of a sense code</td></tr></tbody></table></center><p>All functions will behave in the same manner regardless of the type of disk
being used. The only exception to this principle is the <code>zbc_errno()</code> function
inability to report detailed error information when the zoned block device
driver is used. The reason for this is that the kernel I/O stack does not have
the ability to propagate up to the application the detailed information provided
in command sense data with failed commands.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="utilities"></a>Utilities<a class="hash-link" href="#utilities" title="Direct link to heading">#</a></h2><p><em>libzbc</em> also provides several command line applications to manipulate zoned disks
by calling the library functions. The list of applications provided is shown in the
table below.</p><center><table><thead><tr><th align="left">Tool</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">gzbc</td><td align="left">gzbc provides a graphical user interface showing zone information of a zoned device</td></tr><tr><td align="left">zbc_info</td><td align="left">Get information on a disk</td></tr><tr><td align="left">zbc_report_zones</td><td align="left">List the zones of a device</td></tr><tr><td align="left">zbc_reset_zone</td><td align="left">Reset the write pointer of sequential zones</td></tr><tr><td align="left">zbc_open_zone</td><td align="left">Explicitly open a sequential write zone</td></tr><tr><td align="left">zbc_close_zone</td><td align="left">Close an open sequential write zone</td></tr><tr><td align="left">zbc_finish_zone</td><td align="left">Transition a sequential write zone to the full condition</td></tr><tr><td align="left">zbc_read_zone</td><td align="left">Read a zone sectors</td></tr><tr><td align="left">zbc_write_zone</td><td align="left">Write a zone sectors</td></tr></tbody></table></center><p>The following tools are also provided to create and modify the regular file or
regular block device used as backend storage with <em>libzbc</em> emulation mode.</p><center><table><thead><tr><th align="left">Tool</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left">zbc_set_zones</td><td align="left">Initialize (format) a regular file or regular disk to be used with <em>libzbc</em> emulation mode</td></tr><tr><td align="left">zbc_set_write_ptr</td><td align="left">Change the write pointer position of the sequential zones of an emulated disk (intended for testing purposes only as this is not a valid operation for physical ZBC devices</td></tr></tbody></table></center><p>All utilities output a help message when executed without any argument.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_report_zones</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Usage: zbc_report_zones [options] &lt;dev&gt;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Options:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -v          : Verbose mode</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -lba        : Use LBA size unit (default is 512B sectors)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -start &lt;offset&gt; : Start offset of report. if &quot;-lba&quot; is used</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    &lt;offset&gt; is interpreted as an LBA. Otherwise,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    it is interpreted as a 512B sector number.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    Default is 0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -n          : Get only the number of zones</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -nz &lt;num&gt;   : Get at most &lt;num&gt; zones</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  -ro &lt;opt&gt;   : Specify reporting option: &quot;all&quot;, &quot;empty&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    &quot;imp_open&quot;, &quot;exp_open&quot;, &quot;closed&quot;, &quot;full&quot;,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    &quot;rdonly&quot;, &quot;offline&quot;, &quot;rwp&quot;, &quot;non_seq&quot; or &quot;not_wp&quot;.</span></div><div class="token-line" style="color:#393A34"><span class="token plain">                    Default is &quot;all&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="getting-a-disk-information"></a>Getting a Disk Information<a class="hash-link" href="#getting-a-disk-information" title="Direct link to heading">#</a></h3><p><em>zbc_info</em> displays information about a disk, including regular block devices.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_info /dev/sg3</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device /dev/sg3:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: ATA HGST HSH721415AL T220</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Zoned block device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    29297213440 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 logical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    15000.173 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are unrestricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 128</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_info /dev/sg0</span></div><div class="token-line" style="color:#393A34"><span class="token plain">/dev/sg0 is not a zoned block device</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="zone-information"></a>Zone Information<a class="hash-link" href="#zone-information" title="Direct link to heading">#</a></h3><p><em>zbc_report_zones</em> illustrates the use of <em>libzbc</em> zone reporting functions
zbc_report_zones(),  zbc_report_nr_zones() and zbc_list_zones().</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_report_zones /dev/sg3</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device /dev/sg3:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: ATA HGST HSH721415AL T220</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Zoned block device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    29297213440 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 logical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    15000.173 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are unrestricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 128</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    55880 zones from 0, reporting option 0x00</span></div><div class="token-line" style="color:#393A34"><span class="token plain">55880 / 55880 zones:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00000: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 0, 524288 sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00001: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 524288, 524288 sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00002: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 1048576, 524288 sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">...</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00522: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 273678336, 524288 sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00523: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 274202624, 524288 sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00524: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">sector 274726912, 524288 sectors, wp 274726912</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00525: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0,</span></div><div class="token-line" style="color:#393A34"><span class="token plain">sector 275251200, 524288 sectors, wp 275251200</span></div><div class="token-line" style="color:#393A34"><span class="token plain">...</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 55878: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 29296164864, 524288 sectors, wp 29296164864</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 55879: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 29296689152, 524288 sectors, wp 29296689152</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The output of <em>zbc_report_zones</em> can also be limited using the option <code>-ro</code>
(reporting options) for filtering the zones reported, or the option <code>-n</code> to
limit the output to the number of zones that would be reported.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_report_zones -ro not_wp -n /dev/sg3</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device /dev/sg3:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: ATA HGST HSH721415AL T220</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Zoned block device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    29297213440 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 logical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    15000.173 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are unrestricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 128</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    524 zones from 0, reporting option 0x3f</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="writing-and-resetting-zones"></a>Writing and Resetting Zones<a class="hash-link" href="#writing-and-resetting-zones" title="Direct link to heading">#</a></h3><p><em>zbc_write_zone</em> sequentially writes data to a zone. If the zone is a sequential
zone, the write pointer position advances until the zone is full. By default,
<em>zbc_write_zone</em> will write the entire zone. For instance, using the disk used
in the previous example, the first sequential write zone (zone number 524) can
be written with 512 KB writes until full with the following command.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_write_zone /dev/sg3 524 524288</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device /dev/sg3:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: ATA HGST HSH721415AL T220</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    SCSI ZBC device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    29297213440 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 logical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    15000.173 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are unrestricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 128</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Target zone: Zone 524 / 55880, type 0x2 (Sequential-write-required), cond 0x1 (Empty), rwp 0, non_seq 0, sector 274726912, 524288 sectors, wp 274726912</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Filling target zone 524, 524288 B I/Os</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Wrote 268435456 B (512 I/Os) in 1.082 sec</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  IOPS 472</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  BW 247.952 MB/s</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_report_zones -start 274726912 -nz 1 /dev/sg3</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device /dev/sg3:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: ATA HGST HSH721415AL T220</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    SCSI ZBC device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    29297213440 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 logical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    15000.173 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are unrestricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 128</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    55356 zones from 274726912, reporting option 0x00</span></div><div class="token-line" style="color:#393A34"><span class="token plain">1 / 55356 zone:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00000: type 0x2 (Sequential-write-required), {==cond 0xe (Full)==}, reset recommended 0, non_seq 0, sector 274726912, 524288 sectors, wp 2251799813685240</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The written zone can then be reset using <em>zbc_reset_zone</em>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_reset_zone /dev/sg3 524</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device /dev/sg3:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: ATA HGST HSH721415AL T220</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    SCSI ZBC device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    29297213440 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 logical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    15000.173 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are unrestricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 128</span></div><div class="token-line" style="color:#393A34"><span class="token plain">reset zone 524/55880, sector 274726912...</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_report_zones -start 274726912 -nz 1 /dev/sg7</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device /dev/sg7:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: ATA HGST HSH721415AL T220</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    SCSI ZBC device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    29297213440 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 logical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    15000.173 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are unrestricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 128</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    55356 zones from 274726912, reporting option 0x00</span></div><div class="token-line" style="color:#393A34"><span class="token plain">1 / 55356 zone:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00000: type 0x2 (Sequential-write-required), {==cond 0x1 (Empty)==}, reset recommended 0, non_seq 0, sector 274726912, 524288 sectors, wp 274726912</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>All sequential write zones of a device can be reset using the option <code>-all</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_reset_zone -all /dev/sg7</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device /dev/sg7:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: ATA HGST HSH721415AL T220</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    SCSI ZBC device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    29297213440 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 logical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    3662151680 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    15000.173 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are unrestricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 128</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Operating on all zones...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="graphical-interface"></a>Graphical Interface<a class="hash-link" href="#graphical-interface" title="Direct link to heading">#</a></h3><p><em>gzbc</em> provides a graphical user interface showing the zone configuration and
state of a zoned  device. <em>gzbc</em> also  displays  the  write status (write
pointer position) of zones graphically using color coding (red for written
sectors and green for unwritten sectors). Some operations on zones can also be
executed directly from the interface (reset zone write pointer, open zone,
close zone, etc).</p><div class="container text--center"><figure><img src="/assets/images/tools-libzbc-gzbc-5d6b525337b567661f392ef6d06ad83e.png" width="640" max-width="100%"><figcaption><em>gzbc screeshot</em></figcaption></figure></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="emulation-mode"></a>Emulation Mode<a class="hash-link" href="#emulation-mode" title="Direct link to heading">#</a></h2><p><em>libzbc</em> emulation mode requires a regular file or a regular block device as
backend storage. The size of the file or the capacity of the block device used
will be used as the emulated device capacity.</p><p>For example, the following commands will create a 10GB file name <code>zbc-disk</code>
that can be used for an emulated disk.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># touch zbc-disk</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># truncate -s 10G zbc-disk</span></div><div class="token-line" style="color:#393A34"><span class="token plain"># ls -l zbc-disk</span></div><div class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 10737418240 May 22 16:48 zbc-disk</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This file can now be initialized to be used with <em>libzbc</em> emulation mode.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_set_zones zbc-disk set_ps 10 256</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device zbc-disk:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: FAKE HGST HM libzbc</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Emulated zoned block device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    20971520 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    20971520 logical blocks of 512 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    2621440 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    10.737 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are restricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 32</span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Setting zones:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Zone size: 256 MiB (524288 sectors)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Conventional zones: 1024 MiB (2097152 sectors), 10.00 % of total capacity), 4 zones</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Sequential zones: 36 zones</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The file can now be used with <em>libzbc</em> library functions and tools similarly to
any physical zoned block device.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI plaintext"><div tabindex="0" class="prism-code language-plaintext codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain"># zbc_report_zones zbc-disk</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Device zbc-disk:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Vendor ID: FAKE HGST HM libzbc</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Emulated zoned block device interface, Host-managed zone model</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    20971520 512-bytes sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    20971520 logical blocks of 512 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    2621440 physical blocks of 4096 B</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    10.737 GB capacity</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Read commands are restricted</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    Maximum number of open sequential write required zones: 32</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    40 zones from 0, reporting option 0x00</span></div><div class="token-line" style="color:#393A34"><span class="token plain">40 / 40 zones:</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00000: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 0, 524288 sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00001: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 524288, 524288 sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00002: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 1048576, 524288 sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00003: type 0x1 (Conventional), cond 0x0 (Not-write-pointer), sector 1572864, 524288 sectors</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00004: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 2097152, 524288 sectors, wp 2097152</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00005: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 2621440, 524288 sectors, wp 2621440</span></div><div class="token-line" style="color:#393A34"><span class="token plain">...</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00038: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 19922944, 524288 sectors, wp 19922944</span></div><div class="token-line" style="color:#393A34"><span class="token plain">Zone 00039: type 0x2 (Sequential-write-required), cond 0x1 (Empty), reset recommended 0, non_seq 0, sector 20447232, 524288 sectors, wp 20447232</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tools/sg3utils"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« SCSI Generic Utilities</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/tools/libzbd"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">libzbd User Library Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#library-functions" class="table-of-contents__link">Library Functions</a></li><li><a href="#utilities" class="table-of-contents__link">Utilities</a><ul><li><a href="#getting-a-disk-information" class="table-of-contents__link">Getting a Disk Information</a></li><li><a href="#zone-information" class="table-of-contents__link">Zone Information</a></li><li><a href="#writing-and-resetting-zones" class="table-of-contents__link">Writing and Resetting Zones</a></li><li><a href="#graphical-interface" class="table-of-contents__link">Graphical Interface</a></li></ul></li><li><a href="#emulation-mode" class="table-of-contents__link">Emulation Mode</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction/zoned-storage">Introduction to Zoned Storage</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/">Getting Started with Zoned Storage</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://app.element.io/#/room/#zonedstorage-general:matrix.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Matrix</a></li><li class="footer__item"><a href="https://join.slack.com/t/zonedstorage/shared_invite/zt-uyfut5xe-nKajp9YRnEWqiD4X6RkTFw" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://webchat.oftc.net/?channels=zonedstorage" target="_blank" rel="noopener noreferrer" class="footer__link-item">IRC @ OFTC</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/westerndigitalcorporation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Organization</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Western Digital
	Corporation or its affiliates. All rights reserved.<br> By using this site, you agree to the <a href="https://www.westerndigital.com/legal/terms-of-use" target="_blank">Terms of Use</a> and <a href="https://www.westerndigital.com/legal/privacy-statement" target="_blank">Privacy Statement</a>.  All example scripts and program snippets on this site are licensed under the <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank">CCO 1.0 Universal</a> license.<br>This site is built with <a href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.18692684.js"></script>
<script src="/assets/js/main.e827f9a4.js"></script>
</body>
</html>