"use strict";(self.webpackChunkzonedstorage_io=self.webpackChunkzonedstorage_io||[]).push([[98],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return u}});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),h=c(n),u=i,f=h["".concat(l,".").concat(u)]||h[u]||d[u]||r;return n?o.createElement(f,a(a({ref:t},p),{},{components:n})):o.createElement(f,a({ref:t},p))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var c=2;c<r;c++)a[c]=n[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},3969:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return d}});var o=n(7462),i=n(3366),r=(n(7294),n(3905)),a=["components"],s={id:"faq",title:"Frequently Asked Questions",sidebar_label:"Frequently Asked Questions"},l="Frequently Asked Questions",c={unversionedId:"faq/faq",id:"faq/faq",title:"Frequently Asked Questions",description:"Can I change the size of the zones of a device?",source:"@site/docs/faq/faq.md",sourceDirName:"faq",slug:"/faq/",permalink:"/docs/faq/",tags:[],version:"current",frontMatter:{id:"faq",title:"Frequently Asked Questions",sidebar_label:"Frequently Asked Questions"},sidebar:"docs",previous:{title:"Benchmarking Zoned Block Devices",permalink:"/docs/benchmarking/benchmark"}},p={},d=[{value:"<strong>Can I change the size of the zones of a device?</strong>",id:"can-i-change-the-size-of-the-zones-of-a-device",level:3},{value:"<strong>With a host managed drive, how do I change the position of a zone write pointer?</strong>",id:"with-a-host-managed-drive-how-do-i-change-the-position-of-a-zone-write-pointer",level:3},{value:"<strong>How do I rewind the position of a zone write pointer?</strong>",id:"how-do-i-rewind-the-position-of-a-zone-write-pointer",level:3},{value:"<strong>How do I partially rewind the position of a zone write pointer?</strong>",id:"how-do-i-partially-rewind-the-position-of-a-zone-write-pointer",level:3},{value:"<strong>Can I create partitions on my host managed device?</strong>",id:"can-i-create-partitions-on-my-host-managed-device",level:3}],h={toc:d};function u(e){var t=e.components,n=(0,i.Z)(e,a);return(0,r.kt)("wrapper",(0,o.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"frequently-asked-questions"},"Frequently Asked Questions"),(0,r.kt)("h3",{id:"can-i-change-the-size-of-the-zones-of-a-device"},(0,r.kt)("strong",{parentName:"h3"},"Can I change the size of the zones of a device?")),(0,r.kt)("p",null,"The size of the zones of a physical zoned device are fixed at manufacturing\ntime by the device vendor. For a particular device model, it is not possible\nto change the zone size."),(0,r.kt)("p",null,"Device emulation software such as\n",(0,r.kt)("a",{parentName:"p",href:"/docs/tools/tcmu-runner"},"tcmu-runner")," allow defining zoned block\ndevices with different zone sizes. While this does not replace the ability to\nchange an existing device zone size, such solution allows exploring the impact\nof the device zone size on the application being developed."),(0,r.kt)("h3",{id:"with-a-host-managed-drive-how-do-i-change-the-position-of-a-zone-write-pointer"},(0,r.kt)("strong",{parentName:"h3"},"With a host managed drive, how do I change the position of a zone write pointer?")),(0,r.kt)("p",null,"The write pointer position of a zone changes automatically in response to the\nfollowing operations."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A write operation (regular write command, write same command) issued with\na starting LBA equal to the zone write pointer current location or a zone\nappend write operation issued with a starting LBA equal to the zone start LBA:\nthe write pointer position advances by an amount of LBAs written."),(0,r.kt)("li",{parentName:"ul"},"A zone reset operation: the write pointer position of the target zone(s)\nis reset to the start of the zone."),(0,r.kt)("li",{parentName:"ul"},"A zone finish operation: the write pointer position of the target zone(s)\nis changed an invalid value with the zone condition cnahed to FULL."),(0,r.kt)("li",{parentName:"ul"},"A device low level format operation: the write pointer of all zones is reset.")),(0,r.kt)("p",null,"No other command, operation or user action can change the position of a zone\nwrite pointer to any position within the zone."),(0,r.kt)("h3",{id:"how-do-i-rewind-the-position-of-a-zone-write-pointer"},(0,r.kt)("strong",{parentName:"h3"},"How do I rewind the position of a zone write pointer?")),(0,r.kt)("p",null,"As mentioned in the previous question reply, resetting a zone will rewind the\nzone write pointer position to the first LBA of the zone. A low level device\nformat operation will also reset all zones."),(0,r.kt)("h3",{id:"how-do-i-partially-rewind-the-position-of-a-zone-write-pointer"},(0,r.kt)("strong",{parentName:"h3"},"How do I partially rewind the position of a zone write pointer?")),(0,r.kt)("p",null,"This is not possible. A zone write pointer can only be moved back to the start\nLBA of the zone using a reset write pointer command."),(0,r.kt)("h3",{id:"can-i-create-partitions-on-my-host-managed-device"},(0,r.kt)("strong",{parentName:"h3"},"Can I create partitions on my host managed device?")),(0,r.kt)("p",null,"Kernel versions 4.10 to 5.4 include support for partition tables on host managed\nzoned block devices. However, partitioning tools such as"),(0,r.kt)("a",{href:"https://gparted.org/",target:"_blank"},"*gparted*")," generally used to create GUID partition tables do not support host managed zoned devices that do not have a conventional zone at the beginning and end of the LBA space. If the first zone and last zone of the device are sequential write required zones, writing the primary and secondary GPT header and table entries will likely fail, resulting in an incorrect or corrupted partition table that will not be recognized by the kernel block layer.",(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Linux","\xae"," kernel mandates that partitions of a zoned block device be zone\naligned. That is, the start sector of all device partitions must be the start\nsector of a zone and the end sector of the partitions must be the last sector of\na zone."))),(0,r.kt)("p",null,"Support for partition tables on host managed zoned block devices has been\nremoved from the kernel with version 5.5.0. Using the\n",(0,r.kt)("a",{parentName:"p",href:"/docs/linux/dm#dm-linear"},(0,r.kt)("em",{parentName:"a"},"dm-linear"))," device mapper target to logically\nisolate smaller portions of a host managed device is the replacement and\npreferred solution."),(0,r.kt)("p",null,"More information on partition support can be found ",(0,r.kt)("a",{parentName:"p",href:"/docs/linux/part"},"here"),"."))}u.isMDXComponent=!0}}]);