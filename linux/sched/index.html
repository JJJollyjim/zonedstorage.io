<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Linux Zoned Storage Documentation">
    
    <link rel="canonical" href="https://zonedstorage.io/linux/sched/">
    <link rel="shortcut icon" href="../../img/favicon.ico">

    
    <title>Write Command Ordering - Zoned Storage</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../css/base.min.css" rel="stylesheet">
    <link href="../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D23L5EBB2E"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-D23L5EBB2E');
    </script>
    

     
</head>

<body style="padding-top:90px" >

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href="../..">Zoned Storage</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../community/">Community</a>
                    </li>
                
                
                
                    <li class="dropdown active" style="min-height:60;">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  
  
  
  <li class="dropdown-submenu">
    <a tabindex="-1" href="../../introduction">Introduction</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../introduction/zoned-storage/">Zoned Storage Overview</a>
</li>

        
            
<li >
    <a href="../../introduction/smr/">Shingled Magnetic Recording (SMR) HDDs</a>
</li>

        
            
<li >
    <a href="../../introduction/zns/">Zoned Namespace (ZNS) SSDs</a>
</li>

        
    </ul>
  </li>

                        
                            
  
  
  
  <li class="dropdown-submenu">
    <a tabindex="-1" href="../../getting-started">Getting Started</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../getting-started/prerequisite/">System Prerequisite</a>
</li>

        
            
<li >
    <a href="../../getting-started/nullblk/">Getting Started with an Emulated Zoned Block Device</a>
</li>

        
            
<li >
    <a href="../../getting-started/smr-disk/">Getting Started With SMR Disks</a>
</li>

        
            
<li >
    <a href="../../getting-started/smr-emulation/">Getting Started With Emulated SMR Disks</a>
</li>

        
            
<li >
    <a href="../../getting-started/zns-emulation/">Getting Started With Emulated NVMe ZNS Devices</a>
</li>

        
    </ul>
  </li>

                        
                            
  
  
  
  <li class="dropdown-submenu active">
    <a tabindex="-1" href="..">Linux Kernel Support</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../overview/">Support Overview</a>
</li>

        
            
<li >
    <a href="../config/">Enabling Zoned Block Device Support</a>
</li>

        
            
<li >
    <a href="../zbd-api/">User Interface</a>
</li>

        
            
<li class="active">
    <a href="./">Write Command Ordering</a>
</li>

        
            
<li >
    <a href="../part/">Zoned Block Device Partition Support</a>
</li>

        
            
<li >
    <a href="../dm/">Device Mapper</a>
</li>

        
            
<li >
    <a href="../fs/">File Systems</a>
</li>

        
    </ul>
  </li>

                        
                            
  
  
  
  <li class="dropdown-submenu">
    <a tabindex="-1" href="../../tools">Tools and Libraries</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tools/util-linux/">Linux System Utilities</a>
</li>

        
            
<li >
    <a href="../../tools/zns/">Linux Tools for ZNS</a>
</li>

        
            
<li >
    <a href="../../tools/sg3utils/">SCSI Generic Utilities</a>
</li>

        
            
<li >
    <a href="../../tools/libzbc/">libzbc User Library</a>
</li>

        
            
<li >
    <a href="../../tools/libnvme/">libnvme User Library</a>
</li>

        
            
<li >
    <a href="../../tools/libzbd/">libzbd User Library</a>
</li>

        
            
<li >
    <a href="../../tools/tcmu-runner/">tcmu-runner ZBC Disk Emulation</a>
</li>

        
            
<li >
    <a href="../../tools/qemu/">QEMU and KVM</a>
</li>

        
    </ul>
  </li>

                        
                            
  
  
  
  <li class="dropdown-submenu">
    <a tabindex="-1" href="../../applications">Applications</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../applications/zenfs/">RocksDB</a>
</li>

        
    </ul>
  </li>

                        
                            
  
  
  
  <li class="dropdown-submenu">
    <a tabindex="-1" href="../../tests">System Compliance Tests</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../tests/zbc-tests/">ZBC/ZAC Compliance Tests</a>
</li>

        
            
<li >
    <a href="../../tests/blktests/">Kernel Block Layer Tests</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../distributions/linux/">Linux Distributions</a>
</li>

                        
                            
<li >
    <a href="../../benchmarking/fio/">Benchmarking</a>
</li>

                        
                            
<li >
    <a href="../../faq/faq/">Frequently Asked Questions</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../about/">About</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../zbd-api/">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../part/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    
    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
  <h5 style="text-align:center"><b>Table of contents</b></h5>
  <ul class="nav bs-sidenav">

  

    

      

        
        
        
          <li class="first-level">
	    <a class="toc" href="../../introduction">Introduction</a>
	  </li>
          
        

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

      

    

      

        
        
        
          <li class="first-level">
	    <a class="toc" href="../../getting-started">Getting Started</a>
	  </li>
          
        

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

      

    

      

        
        
        
          <li class="first-level active">
	    <a href="/linux/" style="font-weight:bold">Linux Kernel Support</a>
	  </li>
          
        

        

  	  
            <li class="second-level">
	      <a href="../overview/">Support Overview</a>
	    </li>
          

  	  

        

  	  
            <li class="second-level">
	      <a href="../config/">Enabling Zoned Block Device Support</a>
	    </li>
          

  	  

        

  	  
            <li class="second-level">
	      <a href="../zbd-api/">User Interface</a>
	    </li>
          

  	  

        

  	  

  	  
            
              
                <li class="second-level active">
		  <a href="#write-ordering-control-for-zoned-block-devices">Write Ordering Control For Zoned Block Devices</a>
		</li>
	      

              
                <li class="third-level">
		  <a href="#zone-write-locking">Zone Write Locking</a>
		</li>
                
                  <li class="fourth-level">
		    <a href="#initial-implementation">Initial Implementation</a>
		  </li>
                
                  <li class="fourth-level">
		    <a href="#improved-implementation-block-io-scheduler">Improved Implementation: Block I/O Scheduler</a>
		  </li>
                
              
                <li class="third-level">
		  <a href="#block-io-scheduler-configuration">Block I/O Scheduler Configuration</a>
		</li>
                
                  <li class="fourth-level">
		    <a href="#manual-configuration">Manual Configuration</a>
		  </li>
                
                  <li class="fourth-level">
		    <a href="#automatic-persistent-configuration">Automatic Persistent Configuration</a>
		  </li>
                
              

            
          

        

  	  
            <li class="second-level">
	      <a href="../part/">Zoned Block Device Partition Support</a>
	    </li>
          

  	  

        

  	  
            <li class="second-level">
	      <a href="../dm/">Device Mapper</a>
	    </li>
          

  	  

        

  	  
            <li class="second-level">
	      <a href="../fs/">File Systems</a>
	    </li>
          

  	  

        

      

    

      

        
        
        
          <li class="first-level">
	    <a class="toc" href="../../tools">Tools and Libraries</a>
	  </li>
          
        

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

  	  

  	  

        

      

    

      

        
        
        
          <li class="first-level">
	    <a class="toc" href="../../applications">Applications</a>
	  </li>
          
        

        

  	  

  	  

        

      

    

      

        
        
        
          <li class="first-level">
	    <a class="toc" href="../../tests">System Compliance Tests</a>
	  </li>
          
        

        

  	  

  	  

        

  	  

  	  

        

      

    

      

        <li class="first-level">
	  <a class="toc" href="../../distributions/linux/">Linux Distributions</a>
	</li>

      

    

      

        <li class="first-level">
	  <a class="toc" href="../../benchmarking/fio/">Benchmarking</a>
	</li>

      

    

      

        <li class="first-level">
	  <a class="toc" href="../../faq/faq/">Frequently Asked Questions</a>
	</li>

      

    

  

  </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="write-ordering-control-for-zoned-block-devices">Write Ordering Control For Zoned Block Devices</h1>
<p>Historically, the Linux&reg; kernel block I/O stack (i.e., the block layer and
the SCSI layer) has never guaranteed the exact execution order of block I/O
requests. The exact execution order of block I/O requests cannot be guaranteed
due to the asynchronous nature of the execution in the kernel of block I/O
requests and the necessity of a fine-granularity lock model for the device
request queue (to minimize lock-contention overhead when multiple contexts 
issue I/O requests to a block device at the same time).</p>
<p>A direct result of this design is the inability to give guarantees to a well-
behaving ZBD-compliant application that write commands for a zone will be
delivered in increasing LBA order (matching the zone sequential write
constraint).</p>
<p>To address this problem, the kernel ZBD support adds <em>zone write locking</em> to
ensure that write requests are processed in order per zone.</p>
<h2 id="zone-write-locking">Zone Write Locking</h2>
<p>Zone write locking implements a per-zone write lock to serialize the execution
of write requests that target the same zone. This feature does not guarantee
that write commands are always issued at the location of the zone write
pointer: this is the responsibility of the write I/O issuer. Zone write
locking guarantees only that the order in which write commands are issued
by an application, file system, or device mapper target will be respected by
the block I/O stack. A well-behaved user of zoned block devices will thus
avoid unaligned write command failures.</p>
<p>Zone write locking does not affect read commands in any way. Read requests are
not serialized and processed in exactly the same manner as with regular block
devices.</p>
<h3 id="initial-implementation">Initial Implementation</h3>
<p>Zone write locking was first implemented in kernel 4.10 in the SCSI disk
driver (below the block layer), operating on requests already passed to the
device dispatch queue by the block I/O scheduler.</p>
<p>This early implementation relied on the fact that the SCSI layer could delay
issuing any request to the device. By maintaining a bitmap with one bit per
zone, the SCSI disk driver marked a zone as <em>locked</em> whenever it saw a write
command. This algorithm is presented here in more detail:</p>
<ol>
<li>
<p>If the next command to be dispatched to the device is not a write command,
    then the command is dispatched immediately.</p>
</li>
<li>
<p>If the next command to by dispatched is a write command, then the zone
    write lock bit for the target zone of the command is inspected.</p>
<p><ol type="a">
<li>
If the target zone of the write command is not write locked (i.e., the
bit is not set), then the zone is locked and the write command issued
to the device.  Both operations are atomically executed under the
device request queue spinlock.
</li>
<li>
If the target zone is already locked (i.e., the bit is set), then the
SCSI disk driver temporarily delays issuing the command to the device
until the zone write lock is released.
</li>
<li>
When a write command completes, the zone write lock for the target zone
of the command is released and the dispatch process is resumed. This
means that if the command at the head of the dispatch queue targets the
same zone, then the command can be issued (when the write command
completes) (step 2.a).
</li>
</ol></p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Zone write locking that is implemented as shown above also prevents the
unintended reordering of commands by the SAS HBAs or SATA adapters. The
<em>AHCI</em> specifications do not define a clear order for issuing commands to
devices. As a result, many chipsets are unable to guarantee the proper
order of commands.</p>
</div>
<p>Although this implementation provides write-ordering guarantees for the legacy
single-queue block I/O path and is not dependent upon any particular HBA, it
has several limitations:</p>
<ul>
<li>
<p><strong>Potential performance degradation</strong> Any write command to any zone results
  in the command dispatch processing being stalled. This prevents all other
  command from being dispatched, including read commands. This can limit
  performance benefits that can be obtained with device-level command
  reordering when operating the device at high queue depth. The extreme case is
  an application issuing a write stream to a zone with asynchronous I/O system
  calls (e.g. <code>io_submit()</code>). In this case, the sequential write commands
  would be queued in sequence in the device dispatch queue, resulting in the
  drive being operated at a queue depth of one, one write command at a time.</p>
</li>
<li>
<p><strong>No support for the block multi-queue I/O path</strong> Unlike the legacy single
  queue block I/O interface, the multi-queue block I/O implementation does not
  heavily rely on the device queue spin-lock to process block I/O requests
  issued by the disk users (applications or kernel components). This results in
  potential block I/O request reordering happening before requests are passed
  on to the device dispatch queue and the ineffectiveness of zone write
  locking.</p>
</li>
</ul>
<p>These limitations led to the development of a new implementation of zone write
locking at a higher level in the I/O stack, using the block layer I/O
schedulers.</p>
<h3 id="improved-implementation-block-io-scheduler">Improved Implementation: Block I/O Scheduler</h3>
<p>By moving zone write locking implementation higher up in the I/O stack, the
block multi-queue (and SCSI multi-queue) infrastructure can also be supported.
This improvement was added with kernel version 4.16 and the SCSI layer
implementation of zone write locking was removed.</p>
<p>This new implementation of zone write locking relies on the block layer
<em>deadline</em> and <em>mq-deadline</em> I/O schedulers and also addresses the performance
limitations of the previous implementation. In detail, the new algorithm is as
follows.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <em>deadline</em> and <em>mq-deadline</em> schedulers operate by grouping commands
per type (reads vs writes) and always processsing these two groups of
commands separately, e.g. first issuing many reads, then many writes. This
improves performance by taking advantage of hardware features such as
device-level read-ahead.</p>
</div>
<ol>
<li>
<p>If the scheduler is processing read commands...</p>
<p><ol type="a">
<li>
...the first command queued in the list of read commands is allowed to
    proceed and is submitted to the device dispatch queue.
</li>
<li>
If no read commands are available, activate write processing (step 2).
</li>
<li>
If the read-command processing time limit is reached, write-command
processing (step 2) is activated to avoid write-command starvation.
</li>
<li>
If read commands are still available, restart at step 1.
</li>
</ol></p>
</li>
<li>
<p>When processing write commands, the list of write commands queued in the
    scheduler is scanned in order starting with the command at the head of the
    LBA ordered list or the first command in the arrival-time ordered list (when
    there is a risk of starving commands).</p>
<p><ol type="a">
<li>
If the target zone of the first write command is not write locked (zone
bitmap bit not set), then the zone is locked and the write command is
issued to the device. Both operations are atomically executed under a
spinlock maintained by the scheduler.
</li>
<li>
If the target zone is already locked (bit set), the command is skipped
and the first write command that targets a different zone is searched
for in the LBA ordered list of write commands. If such a command is
found, step 2 is executed again.
</li>
<li>
If all queued write commands target locked zones, the scheduler
operation mode (batch mode) is switched to <em>read</em> and step 1 is called.
</li>
</ol></p>
</li>
<li>
<p>When a write command completes, the zone write lock for the target zone of
    the command is released and the scheduler is activated. Operation is 
    resumed at step 1 or 2 depending on the current batch mode.</p>
</li>
</ol>
<p>From this algorithm, it is clear that the device can now be operated at higher
queue depth and that only sequential writes that target the same zone will be
throttled. All read commands can proceed, always, and write commands that
target different zones do not impact each other.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This new implementation does not guarantee overall command ordering.
Guarantees are given only for write commands that target the same zone.
The dispatch order of write commands that target different zones may be
changed by the scheduler. For any single sequential zone, at any time,
there is always at most a single write command in-flight being
executed. Overall disk operation at high queue depth is possible 
when there are read accesses and if multiple zones are being written
simultaneously.</p>
</div>
<h2 id="block-io-scheduler-configuration">Block I/O Scheduler Configuration</h2>
<p>The <em>deadline</em> and <em>mq-deadline</em> schedulers must be enabled in the kernel
compilation configuration. Refer to the
<a href="../config/#write-ordering-control">Write Ordering Control</a> section for details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The legacy single queue block I/O path was removed from the kernel in 
version 5.0. As of kernel version 5.0, the <em>deadline</em> scheduler cannot be
enabled. The <em>mq-deadline</em> scheduler is the only ZBD compliant scheduler.</p>
</div>
<h3 id="manual-configuration">Manual Configuration</h3>
<p>A system may define a default I/O scheduler other than <em>deadline</em> or
<em>mq-deadline</em>. The block I/O scheduler for a zoned block device can be checked
with the following command.</p>
<pre><code class="language-plaintext"># cat /sys/block/sdb/queue/scheduler
[none] mq-deadline kyber bfq
</code></pre>
<p>If the block I/O scheduler selected is not <em>deadline</em> nor <em>mq-deadline</em> as in
the example above, the scheduler can be changed with the following command.</p>
<pre><code class="language-plaintext"># echo mq-deadline &gt; /sys/block/sdb/queue/scheduler
# cat sys/block/sdb/queue/scheduler
[mq-deadline] kyber bfq none
</code></pre>
<p><em>deadline</em> is an alias for the <em>mq-deadline</em> scheduler. The following command
can therefore be used to get the same results in environments that use the
legacy single queue I/O path (kernels 4.16 to 4.20) and environments that use
the block multi-queue infrastructure (the sole possibility as of kernel
version 5.0).</p>
<pre><code class="language-plaintext"># echo deadline &gt; /sys/block/sdb/queue/scheduler
# cat sys/block/sdb/queue/scheduler
[mq-deadline] kyber bfq none
</code></pre>
<h3 id="automatic-persistent-configuration">Automatic Persistent Configuration</h3>
<p>Automatically configuring the <em>deadline</em> scheduler at system boot time can
also be done using a <em>udev</em> rule. The procedure for defining a new <em>udev</em> rule
varies slightly between distributions. Refer to your distribution
documentation for details.</p>
<pre><code class="language-plaintext">ACTION==&quot;add|change&quot;, KERNEL==&quot;sd*[!0-9]&quot;, ATTRS{queue/zoned}==&quot;host-managed&quot;, ATTR{queue/scheduler}=&quot;deadline&quot;
</code></pre>
<p>This rule sets up the <em>deadline</em> scheduler for any host-managed zoned block
device found in the system. A host-aware zoned block disk can accept random
writes and thus tolerate occasional write reordering within a zone sequential
write stream. Nevertheless, write ordering can be maintained for these disks too
by using the <em>deadline</em> scheduler. The above <em>udev</em> rule modified will
automatically enable this.</p>
<pre><code class="language-plaintext">ACTION==&quot;add|change&quot;, KERNEL==&quot;sd*[!0-9]&quot;, ATTRS{queue/zoned}==&quot;host-aware&quot;, ATTR{queue/scheduler}=&quot;deadline&quot;
</code></pre>
<p>The following single rule enables the <em>deadline</em> scheduler for any zoned
block device, regardless of the device zone model.</p>
<pre><code class="language-plaintext">ACTION==&quot;add|change&quot;, KERNEL==&quot;sd*[!0-9]&quot;, ATTRS{queue/zoned}!=&quot;none&quot;, ATTR{queue/scheduler}=&quot;deadline&quot;
</code></pre></div>
        
        
    </div>
    

    <footer class="col-md-12 text-center">
        
        <span class="text-muted" style="color:hsla(0,0%,100%,.7);font-size:13px;">
	&copy; 2021 Western Digital Corporation or its affiliates. All rights reserved.<br>
        By using this site, you agree to the <a href="https://www.westerndigital.com/legal/terms-of-use"
	target="_blank" style="color:white;">Terms of Use</a> and
	<a href="https://www.westerndigital.com/legal/privacy-statement" target="_blank" style="color:white;">Privacy Statement</a>.
        All example scripts and program snippets on this site are licensed under
	<a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank" style="color:white;">CCO 1.0 Universal</a>.<br>
	Documentation built with <a href="https://www.mkdocs.org/" target="_blank" style="color:white;">MkDocs</a> using a theme
	based on <a href="https://sourcefoundry.org/cinder/" target="_blank" style="color:white;">Cinder</a>.
        </span>
        
    </footer>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/c.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/bash.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/plaintext.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = "../.."</script>
    
    <script src="../../js/base.js"></script>
    <script src="../../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
</body>

</html>
